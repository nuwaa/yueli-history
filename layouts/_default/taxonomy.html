{{ define "main" }}
<main class="page single cute-article" style="max-width: 100%; width: 100%;">

  <!-- ğŸŒ¸ ãƒŠãƒ“ãƒãƒ¼ -->
  {{ partial "nav.html" . }}

  <div class="page-header" style="text-align: center;">
    <h1 class="page-title">{{ .Title }} ã®æŠ•ç¨¿ä¸€è¦§</h1>
  </div>

  <!-- ã‚«ãƒ¼ãƒ‰ä¸€è¦§ -->
  <div class="question-cards" style="width: 100%;">
    <div class="card-container" id="cardContainer">
      {{ range .Pages.ByDate.Reverse }}
        <div class="card" data-title="{{ .Title | lower }}" data-body="{{ .Plain | lower }}">
          <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
          <p class="date">{{ .Date.Format "2006å¹´01æœˆ02æ—¥" }}</p>

          {{/* è¦ç´„æŠ½å‡ºå‡¦ç†ï¼ˆè³ªå•ä¸€è¦§ã¨åŒæ§˜ï¼‰ */}}
          {{ $plain := replace .Plain "\n" " " }}
          {{ $lines := split $plain "." }}
          {{ $summary := "" }}

          {{ range $lines }}
            {{ $line := trim . " " }}
            {{ $line = replace $line "æ—¥æœ¬èªã®è§£èª¬" "" }}

            {{ if and 
                (eq $summary "") 
                (ne $line "") 
                (ne $line "1") 
                (not (hasPrefix $line "description:")) 
                (not (hasPrefix $line "keywords:")) 
                (not (hasPrefix $line "{{<")) 
                (not (hasPrefix $line "#")) 
              }}
              {{ with $line }}
                {{ $summary = . }}
              {{ end }}
              {{ break }}
            {{ end }}
          {{ end }}

          <p>{{ $summary | truncate 80 }}</p>

          <a class="read-more" href="{{ .RelPermalink }}">ç¶šãã‚’èª­ã‚€ â†’</a>
        </div>
      {{ end }}
    </div>
  </div>

  <!-- ğŸŒ™ è‘—ä½œæ¨©è¡¨ç¤º -->
  <footer style="text-align:center; margin-top:1rem; font-size: 0.85rem; color: #aa88aa;">
    Â© 2025 æœˆç’ƒ(Yueli) ğŸŒ™
  </footer>

</main>
{{ end }}
