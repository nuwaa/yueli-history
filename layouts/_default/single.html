{{ define "main" }}
<main class="page single cute-article">

<!-- ğŸŒ¸ ãƒŠãƒ“ãƒãƒ¼é¢¨ãƒªãƒ³ã‚¯ï¼ˆä¸Šéƒ¨ï¼‰ -->
{{ partial "nav.html" . }}

<header class="page-header">
  <h1 class="page-title">{{ .Title }}</h1>
</header>

<!-- ğŸ” ãƒ¡ã‚¿èª¬æ˜ï¼ˆ.Descriptionï¼‰ã‚’è¡¨ç¤º -->
{{ if .Description }}
  <p class="subtitle" style="text-align:center; color:#888; font-size: 1rem; margin-top: -0.5rem;">
    {{ .Description }}
  </p>
{{ end }}

<div class="page-content cute-content">
  {{ .Content }}
</div>

<!-- ğŸ”— ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ï¼ˆXãƒ»Facebookãƒ»LINEï¼‰ -->
<div style="text-align: center; margin-top: 2rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
  <a href="https://twitter.com/intent/tweet?text={{ .Title }}&url={{ .Permalink }}&hashtags=å°æ—¥è¿‘ç¾ä»£å²,ãƒ¦ã‚¨ãƒªãƒ¼,æ—¥å°äº¤æµ"
     target="_blank" rel="noopener noreferrer"
     style="display:inline-flex; align-items:center; gap:0.4rem; padding: 0.4rem 0.8rem; background: #1DA1F2; color: white; border-radius: 999px; text-decoration: none; font-size: 0.9rem;">
    ğŸ¦ Xã§ã‚·ã‚§ã‚¢
  </a>

  <a href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink }}"
     target="_blank" rel="noopener noreferrer"
     style="display:inline-flex; align-items:center; gap:0.4rem; padding: 0.4rem 0.8rem; background: #4267B2; color: white; border-radius: 999px; text-decoration: none; font-size: 0.9rem;">
    ğŸ“˜ Facebookã§ã‚·ã‚§ã‚¢
  </a>

  <a href="https://social-plugins.line.me/lineit/share?url={{ .Permalink }}"
     target="_blank" rel="noopener noreferrer"
     style="display:inline-flex; align-items:center; gap:0.4rem; padding: 0.4rem 0.8rem; background: #00C300; color: white; border-radius: 999px; text-decoration: none; font-size: 0.9rem;">
    ğŸ’¬ LINEã§é€ã‚‹
  </a>
</div>

<!-- âœ… è³ªå•å›ç­”ä»¶æ•°ã®è¡¨ç¤º -->
{{ $questions := where site.RegularPages "Section" "questions" }}
<p style="text-align: center; font-weight: bold; color: #cc3388; margin-top: 2rem;">
  ç¾åœ¨ã®è³ªå•å›ç­”ä»¶æ•°ï¼š{{ len $questions }}ä»¶
</p>

<!-- ğŸ· ã‚¿ã‚°è¡¨ç¤º -->
{{ if .Params.tags }}
  <div style="margin: 2rem 0; text-align: center;">
    <strong style="color:#cc3388;">ğŸ· ã‚¿ã‚°:</strong>
    {{ range $index, $tag := .Params.tags }}
      <a href="{{ "/tags/" | relLangURL }}{{ $tag | urlize }}/" class="tag-badge">#{{ $tag }}</a>
    {{ end }}
  </div>
{{ end }}

{{ partial "giscus.html" . }}

<!-- ğŸ“š é–¢é€£è¨˜äº‹ -->
{{ $current := . }}
{{ $alltags := .Params.tags }}
{{ $related := slice }}

{{ if $alltags }}
  {{ range .Site.RegularPages }}
    {{ if ne .Permalink $current.Permalink }}
      {{ $match := intersect .Params.tags $alltags }}
      {{ if gt (len $match) 0 }}
        {{ $related = $related | append . }}
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}

{{ $related = first 5 $related }}

{{ if gt (len $related) 0 }}
  <div style="margin-top: 3rem;">
    <h3 style="text-align: center; color: #cc3388;">ğŸ“š é–¢é€£è¨˜äº‹</h3>
    <ul style="list-style: none; padding: 0; text-align: center;">
      {{ range $related }}
        <li style="margin: 0.5rem 0;">
          <a href="{{ .RelPermalink }}" style="text-decoration: none; color: #aa336a; font-weight: bold;">
            {{ .Title }}
          </a>
          <span style="color: #888; font-size: 0.85rem;">
            ï¼ˆ{{ .Date.Format "2006å¹´1æœˆ" }}ï¼‰
          </span>
        </li>
      {{ end }}
    </ul>
  </div>
{{ end }}

<!-- ğŸŒ¸ ãƒŠãƒ“ãƒãƒ¼é¢¨ãƒªãƒ³ã‚¯ï¼ˆä¸‹éƒ¨ï¼‰ -->
{{ partial "nav.html" . }}


<!-- ğŸ“¢ åºƒå‘Šã‚¨ãƒªã‚¢ -->
<div class="cute-adsense" style="margin: 3rem auto 1.5rem auto; text-align:center;">
  <div style="font-size: 0.85rem; color: #cc88aa;">
<!-- ğŸ“¢ åºƒå‘Šã‚¨ãƒªã‚¢ï¼ˆæº–å‚™ä¸­ï¼‰ -->
  </div>
</div>


<!-- ğŸŒ™ è‘—ä½œæ¨©è¡¨ç¤º -->
<footer style="text-align:center; margin-top:1rem; font-size: 0.85rem; color: #aa88aa;">
  Â© 2025 æœˆç’ƒ(Yueli) ğŸŒ™
</footer>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const content = document.querySelector(".page-content");
  if (!content) return;

  const children = Array.from(content.children);
  children.forEach(el => {
    const text = el.textContent.trim();
    if (
      text.match(/^description:/i) ||
      text.match(/^keywords:/i) ||
      text.match(/^tags:/i) ||
      text.match(/^categories:/i) ||
      text.match(/^slug:/i) ||
      text.match(/^draft:/i)
    ) {
      el.style.display = "none";  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯éè¡¨ç¤ºã«
    }
  });
});
</script>

</main>
{{ end }}
